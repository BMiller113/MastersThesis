function net = trainCNN(XTrain, YTrain, layers)
    % Define training options
    options = trainingOptions('adam', ...
        'MaxEpochs', 20, ...
        'MiniBatchSize', 32, ...
        'InitialLearnRate', 0.001, ...
        'Verbose', false, ...
        'Plots', 'training-progress');

    % Train the network
    net = trainNetwork(XTrain, YTrain, layers, options);
end